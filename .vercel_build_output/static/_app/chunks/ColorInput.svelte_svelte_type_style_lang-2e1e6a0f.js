var Q=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var N=(s,e,t)=>e in s?Q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,H=(s,e)=>{for(var t in e||(e={}))K.call(e,t)&&N(s,t,e[t]);if(A)for(var t of A(e))R.call(e,t)&&N(s,t,e[t]);return s},L=(s,e)=>X(s,Y(e));import{S as M,i as P,s as V,H as O,e as w,c as p,a as y,d as v,b as S,f as z,G as U,E as W,A as Z,ag as x,ah as $,Q as ee,t as te,g as se,D as E,h as ne,W as ae,X as le,Y as ie,x as I,u as D,k as J,j as oe,n as q,m as re,F as B,o as ce,ai as fe,r as he,w as de,v as ue,N as _e,V as ve}from"./vendor-4c0561e8.js";import{p as ge}from"./stores-6e146982.js";function me(s){let e,t,n;return O(s[7]),{c(){e=w("canvas"),this.h()},l(a){e=p(a,"CANVAS",{class:!0}),y(e).forEach(v),this.h()},h(){S(e,"class","rounded-lg svelte-t8neft")},m(a,l){z(a,e,l),s[8](e),t||(n=U(window,"resize",s[7]),t=!0)},p:W,i:W,o:W,d(a){a&&v(e),s[8](null),t=!1,n()}}}function ke(s,e,t){let n,a,l,{settings:o={dimensions:[250,205]}}=e,{data:h={}}=e,f={},{sketch:c=()=>{}}=e,r,i,u,C,j,m,b=!1;Z(async()=>{f=await L(H({},o),{canvas:n,parent:n.parentElement,data:h});let _=document.getElementsByTagName("canvas");console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 41 ~ onMount ~ canvases",_),r=await x.exports.canvasSketch(c,f),t(5,i=await r),await i._settings.canvas,u=n.parentElement,console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 46 ~ onMount ~ canvas",n),C=u.offsetWidth,j=u.offsetHeight,console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 44 ~ onMount ~ parent",u),t(1,n.style.width=`${a}px`,n),t(1,n.style.height=`${l}px`,n),t(6,b=!0)});function d(){n.removeAttribute("style"),t(1,n.style.width=`${a}px`,n),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 59 ~ resizeCanvas ~ width",a),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ pw",C),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ ph",j),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ height",l),t(1,n.style.height=`${l}px`,n),n.setAttribute("width",a),n.setAttribute("height",l)}$(()=>{console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 68 ~ onDestroy ~ loader",r),r=null,t(5,i=null)}),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 65 ~ manager",i);function g(_){console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 65 ~ dataChanged ~ data",_),i&&(Object.assign(i.props.data,_),i.render())}function k(){t(0,m=window.innerWidth)}function T(_){ee[_?"unshift":"push"](()=>{n=_,t(1,n)})}return s.$$set=_=>{"settings"in _&&t(2,o=_.settings),"data"in _&&t(3,h=_.data),"sketch"in _&&t(4,c=_.sketch)},s.$$.update=()=>{s.$$.dirty&65&&b&&m&&d(),s.$$.dirty&1&&console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 53 ~ windowInnerW width",m),s.$$.dirty&4&&(a=o.dimensions[0]),s.$$.dirty&4&&(l=o.dimensions[1]),s.$$.dirty&36&&i&&i.update(o),s.$$.dirty&8&&g(h)},[m,n,o,h,c,i,b,k,T]}class we extends M{constructor(e){super();P(this,e,ke,me,V,{settings:2,data:3,sketch:4})}}function F(s){let e,t,n=s[1].TITLE+"",a;return{c(){e=w("div"),t=w("h1"),a=te(n),this.h()},l(l){e=p(l,"DIV",{class:!0});var o=y(e);t=p(o,"H1",{class:!0});var h=y(t);a=se(h,n),h.forEach(v),o.forEach(v),this.h()},h(){S(t,"class","text-2xl text-center text-sky-200 mt-6 w-full self-center"),S(e,"class","title flex items-center justify-center flex w-full self-center svelte-69dtcj")},m(l,o){z(l,e,o),E(e,t),E(t,a)},p(l,o){o&2&&n!==(n=l[1].TITLE+"")&&ne(a,n)},d(l){l&&v(e)}}}function G(s){let e,t;const n=s[9].default,a=ve(n,s,s[8],null);return{c(){e=w("div"),a&&a.c(),this.h()},l(l){e=p(l,"DIV",{class:!0});var o=y(e);a&&a.l(o),o.forEach(v),this.h()},h(){S(e,"class","panel svelte-69dtcj")},m(l,o){z(l,e,o),a&&a.m(e,null),t=!0},p(l,o){a&&a.p&&(!t||o&256)&&ae(a,n,l,l[8],t?ie(n,l[8],o,null):le(l[8]),null)},i(l){t||(I(a,l),t=!0)},o(l){D(a,l),t=!1},d(l){l&&v(e),a&&a.d(l)}}}function pe(s){let e,t,n,a,l,o,h,f=s[6]==="/creative"&&F(s);a=new we({props:{data:s[1],settings:s[0],sketch:s[2]}});let c=!s[3]&&G(s);return{c(){e=w("main"),f&&f.c(),t=J(),n=w("div"),oe(a.$$.fragment),o=J(),c&&c.c(),this.h()},l(r){e=p(r,"MAIN",{class:!0});var i=y(e);f&&f.l(i),t=q(i),n=p(i,"DIV",{class:!0});var u=y(n);re(a.$$.fragment,u),u.forEach(v),o=q(i),c&&c.l(i),i.forEach(v),this.h()},h(){S(n,"class","viewport rounded-lg svelte-69dtcj"),O(()=>s[10].call(n)),S(e,"class","sketch rounded-lg svelte-69dtcj"),B(e,"preview",s[6]==="/creative")},m(r,i){z(r,e,i),f&&f.m(e,null),E(e,t),E(e,n),ce(a,n,null),l=fe(n,s[10].bind(n)),E(e,o),c&&c.m(e,null),h=!0},p(r,[i]){r[6]==="/creative"?f?f.p(r,i):(f=F(r),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const u={};i&2&&(u.data=r[1]),i&1&&(u.settings=r[0]),i&4&&(u.sketch=r[2]),a.$set(u),r[3]?c&&(he(),D(c,1,1,()=>{c=null}),de()):c?(c.p(r,i),i&8&&I(c,1)):(c=G(r),c.c(),I(c,1),c.m(e,null)),i&64&&B(e,"preview",r[6]==="/creative")},i(r){h||(I(a.$$.fragment,r),I(c),h=!0)},o(r){D(a.$$.fragment,r),D(c),h=!1},d(r){r&&v(e),f&&f.d(),ue(a),l(),c&&c.d()}}}function ye(s,e,t){let n,a;_e(s,ge,d=>t(7,a=d));let{$$slots:l={},$$scope:o}=e,{settings:h={}}=e,{data:f={}}=e,{sketch:c=()=>{}}=e,{hidePanel:r=!1}=e,i,u,C=(()=>{try{return typeof window.localStorage!="undefined"}catch{return!1}})();m(h,f);function j(d,g){C&&d.localStorage!==!1&&window.localStorage.setItem(`${g.TITLE}`,JSON.stringify(g))}function m(d,g){if(C&&d.localStorage!==!1)try{const k=window.localStorage.getItem(`${g.TITLE}`);if(!k)return;const T=JSON.parse(k);Object.assign(g,T)}catch(k){console.warn(k)}}function b(){i=this.offsetWidth,u=this.offsetHeight,t(4,i),t(5,u)}return s.$$set=d=>{"settings"in d&&t(0,h=d.settings),"data"in d&&t(1,f=d.data),"sketch"in d&&t(2,c=d.sketch),"hidePanel"in d&&t(3,r=d.hidePanel),"$$scope"in d&&t(8,o=d.$$scope)},s.$$.update=()=>{s.$$.dirty&128&&t(6,n=a.path),s.$$.dirty&16&&t(0,h.dimensions[0]=i,h),s.$$.dirty&32&&t(0,h.dimensions[1]=u,h),s.$$.dirty&3&&j(h,f),s.$$.dirty&16&&console.log("\u{1F680} ~ file: CanvasSketchEditor.svelte ~ line 45 ~ viewportW",i)},[h,f,c,r,i,u,n,a,o,l,b]}class Ee extends M{constructor(e){super();P(this,e,ye,pe,V,{settings:0,data:1,sketch:2,hidePanel:3})}}export{Ee as C};
