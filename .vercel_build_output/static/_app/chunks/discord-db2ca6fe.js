import{a4 as N,C as v,a5 as h,a6 as i,a7 as f}from"./vendor-4c0561e8.js";const $=new N.LoremIpsum({sentencesPerParagraph:{min:1,max:8},wordsPerSentence:{min:3,max:12}}),M=v([]),J={subscribe:M.subscribe,set:n=>{M.set(n),localStorage.setItem("pageTitle",JSON.stringify(n))}};function b(){const{subscribe:n,set:e,update:t}=v(0);return{subscribe:n,load:()=>D(),readServers:a=>g(a),readChannels:a=>g(a),loadMessages:(a,r,s)=>P(a,r,s),generateServers:a=>G(a),generateChannels:a=>O(a),generateMessages:(a,r)=>A(a,r),saveUpdated:a=>u("discordDummyData",a)}}function G(n){let e=[];return[...Array(n)].map(()=>{let t=x(2),a=h(2,{format:"title",partsOfSpeech:["adjective","noun"],categories:{adjective:["color","appearance"],noun:["people","animals"]}});e.push({id:`${t}`,name:a,channels:[]})}),e=[...new Set(e)],e=[{id:"home",name:"My Discord",channels:[]},...e],u("discordDummyData",e),e}function O(n){let e=[];[...Array(5)].map(()=>{let a=x(4),r=h(2,{format:"title",partsOfSpeech:["noun","noun"],categories:{noun:["profession","technology"|"thing"]}}),s=[];[...Array(5)].map((c,l)=>{let o=h(2,{format:"title",partsOfSpeech:["adjective","noun"],categories:{adjective:["color","appearance"],noun:["things","animals"]}}),d=5,S="line-md:hash-small",w=["line-md:hash-small","heroicons-solid:chat-alt"],m=Math.floor(Math.random()*d),y=!0;if(m==0){let I=Math.floor(Math.random()*w.length);S=w[I]}(m==0||m==2||m==4)&&(y=!1),s.push({name:o,id:`${n}-${a}-${l}`,subGroupId:`${n}-${a}`,serverId:`${n}`,description:`${i.commerce.productName()} ${i.lorem.words()}`,open:!0,icon:S,read:y,messages:[]})}),e.push({name:r,serverId:`${n}`,id:`${n}-${a}`,open:!0,channels:s})});let t=g("discordDummyData");if(n){let a=t.findIndex(r=>r.id===n);t[a].channels=e,u("discordDummyData",t)}return e}async function A(n,e){let t=D(),a=t.findIndex(d=>d.id===n),r=t[a],s=t[a].channels,c=r.channels.findIndex(d=>e.includes(d.id)),l=s[c].channels.findIndex(d=>e===d.id),o=t[a].channels[c].channels[l];o.messages.length<1&&C(o),u("discordDummyData",t)}function C(n){let e=[];[...Array(30)].map(()=>{let a=$.generateSentences(Math.floor(f.range(1,6))),r={username:i.name.firstName()+i.name.lastName(),avatar:`http://placeimg.com/120/120/nature?random=${Math.random()*1e4}`,message:a};e=[...e,r]});let t=new Date;return e.forEach((a,r)=>{e[r];let s,c,l,o=Math.floor(f.range(1,6));(o===1||o==3)&&r>0?(s=e[r-1].avatar,c=e[r-1].username,l=e[r-1].datePosted):(s=`http://placeimg.com/120/120/nature?random=${Math.random()*1e4}`,c=i.name.firstName()+i.name.lastName(),l=i.date.recent(parseInt(f.range(0,30)),t)),a.username=c,a.avatar=s,a.datePosted=l}),n.messages=e,e}function x(n){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*a));return e}let p=(()=>{try{return typeof window.localStorage!="undefined"}catch{return!1}})();function u(n,e){p&&window.localStorage.setItem(n,JSON.stringify(e))}function g(n){if(p)try{const e=window.localStorage.getItem(n);return e?JSON.parse(e):!1}catch(e){console.warn(e)}}function P(n,e,t){let a=D(),r=a.findIndex(o=>o.id===n),s=a[r],c=s.channels.findIndex(o=>o.id===e),l=s[c];t.includes(l.id)&&(channel=l.channels.filter(o=>o.id===t))}function D(){let n="discordDummyData";if(p)try{const e=window.localStorage.getItem(n);return e?JSON.parse(e):!1}catch(e){console.warn(e)}}const k=b();export{k as D,J as p};
